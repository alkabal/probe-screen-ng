; End users can copy this file to their macros folder and edit as necessary.

; This is useful to allow machine specific logic, such as checking HAL input
; pins to ensure a probe or toolsetter are connected.

; You should NOT edit this file directly, instead, you should copy this file
; from the psng/macros folder, to the macros folder and edit the copy.

o<psng_hook_end> sub
; The #1 variable will be set to the name of the macro being hooked. For
; example, when o<psng_manual_change> is called, #1 will be set to the
; value "psng_manual_change".
#<hooked_macro_end> = #1

             ;(MSG, PSNG HOOK END)
             M65 P1  ; activate probe output to motion.probe-inpute (logic inverted)
             M65 P2  ; activate setter output to motion.probe-inpute (logic inverted)
             
             M64 P0  ; After success probing clear all notification (turn on digital output immediately)
             G4 P 1
             M65 P0  ; reset flasg for clear all notification (turn off digital output immediately)

o<psng_hook_end> endsub
M2
