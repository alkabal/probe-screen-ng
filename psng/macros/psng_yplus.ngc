o<psng_yplus> sub

o10 if [#<_hal[motion.probe-input]> EQ 1]
     o<psng_hook_end> call
    (ABORT,!!! PROBE OR SETTER ALREADY TRIGGERED BEFORE PROBE Y+ !!!)
o10 endif

#<y>=#<_y> (save start Y position)
G91
G38.3 Y#<_hal[probe.ps_probe_max]>        F#<_hal[probe.ps_searchvel]>
o500 call
G38.5 Y-#<_hal[probe.ps_probe_latch]>     F#<_hal[probe.ps_searchvel]>     ;DO NOT WORK FINE WITHOUT SPRING MOUNTED PROBE
o500 call
G1    Y-#<_hal[probe.ps_probe_latch]>     F#<_hal[probe.ps_searchvel]>
G38.3 Y[#<_hal[probe.ps_probe_latch]>*2]  F#<_hal[probe.ps_probevel]>
o500 call
(print,probe Y=#5062)
G90
(back to start point)
G1 Y#<y> F#<_ini[TOOLSENSOR]RAPID_SPEED>

o500 sub
     o510 if [#5070 EQ 0]
          o<psng_hook_end> call
          (ABORT,FAILURE : PROBE Y+ DOES NOT FOUND THE CONTACT POINT)
     o510 endif
o500 endsub

o<psng_yplus> endsub
M2
